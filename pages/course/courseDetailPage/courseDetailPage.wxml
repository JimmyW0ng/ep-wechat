        <!--pages/course/courseDetailPage/courseDetailPage.wxml-->
<view class='page'>
  <view class='course-list-item' bindtap='goCourseDetailPage'>
    <view class='course-avatar-wrap'>
      <image class="course-avatar" src="{{course.mainPicUrl}}" mode="scaleToFill"></image>
    </view>
    <view class='course-info'>
      <view class='course-org-name'>{{course.courseName}}</view>
      <view class='course-simple-info'>
        <view class='course-tag'>{{course.label}}</view>
        <view class='course-name'>{{course.courseIntroduce}}</view>
      </view>
      <view class='course-bottom-info'>
        <view class='course-note'>{{course.courseNote}}</view>
      </view>
    </view>
  </view>

  <view class='tab-header'>
    <view class="tab-selector {{selectedTab == 0 && 'active'}}" data-tab="0" bindtap='selectTab'>课程介绍</view>
    <view class="tab-selector {{selectedTab == 1 && 'active'}}" data-tab="1" bindtap='selectTab'>老师介绍</view>
    <view class="tab-selector {{selectedTab == 2 && 'active'}}" data-tab="2" bindtap='selectTab'>评价</view>
  </view>

  <swiper style="height:{{swiperHeight}}px; padding-bottom: 50px" indicator-dots="{{false}}" current="{{selectedTab}}" autoplay="{{false}}" bindchange="changeSwiper">
    <swiper-item>
      <scroll-view scroll-y="true" class="scoll-h">
        <view class='tab-content course-introduce'>
          <view class='tab-content-title'>报名须知</view>
          <view class='tab-join-notice'>
            {{course.courseContent}}
          </view>
        </view>
      </scroll-view>
    </swiper-item>

    <swiper-item>
      <scroll-view scroll-y="true" class="scoll-h">
        <view class='tab-content course-team'>
          <view class='tab-content-title'>老师介绍
            <view class='title-info'>({{team.length}}位)</view>
          </view>

          <view class='teacher-item' wx:for="{{team}}" wx:key="index">
            <view class='teacher-basic'>
              <view class='teacher-avatar-wrap'>
                <image class="teacher-avatar" src="{{course.mainPicUrl}}" mode="scaleToFill"></image>
              </view>
              <view class='teacher-info'>
                <view class='teacher-title'>授课老师</view>
                <view class='teacher-name'>{{item.nickName}}</view>
              </view>
            </view>

            <view class='teacher-introduce'>{{item.introduce}}</view>
          </view>
        </view>
      </scroll-view>
    </swiper-item>

    <swiper-item>
      <scroll-view scroll-y="true" class="scoll-h">

        <view class='tab-content course-comments'>
          <view class='tab-content-title'>评价
            <view class='title-info' wx:if="{{totalCommentNum > 0}}">
              ({{totalCommentNum}}条)
            </view>
          </view>

          <view wx:if="{{totalCommentNum == 0}}" class='no-comments'>暂无评价</view>

          <view wx:if="{{comments.length > 0}}" wx:for="{{comments}}" wx:key="index">
            <comment-item comment="{{item}}"></comment-item>  
          </view>

          <view class='comment-check-all ripple' bindtap='goCourseCommentPage' wx:if="{{totalCommentNum > 0 && (comments.length != totalCommentNum)}}">
            <view class='check-all-text'>查看全部评价</view>
            <view class='check-all-icon iconfont icon-right2'></view>
          </view>
        </view>
      </scroll-view>

    </swiper-item>
  </swiper>

  <view class='course-detail-footer'>
    <view class='footer-left'>
      <view class='iconfont icon-phone ripple' bindtap='callOgn' data-ognPhone="{{course.ognPhone}}"></view>
      <view class='footer-name'>机构</view>
    </view>

    <view class='footer-right'>
      <view class='btn-primary ripple' bindtap='showPopup'>立即报名</view>
    </view>
  </view>

  <!-- 报名 PopUp -->
  <view class="zan-popup zan-popup--bottom {{popupStatus ? 'zan-popup--show' : ''}}">
    <view class="zan-popup__mask" bindtap='closePopup'></view>
    <view class="zan-popup__container join-container">
      <view class='join-title'>课程班次</view>

       <view class='date-list'>
        <view class="date-btn {{index == selectedClassIndex && 'active'}}" wx:for="{{classes}}" wx:key="{{index}}" data-index="{{index}}" bindtap='chooseClass'>
          {{item.className}}
        </view>
      </view>  

      <view class='join-title'>上课宝贝</view>

      <view class='baby-list'>
        <view class="baby-list-item" bindtap='chooseChild' data-joined="{{item.joined}}" data-id="{{item.childId}}" wx:for="{{childList}}" wx:key="{{index}}">
          <view class='baby-info'>
            <image class='item-avatar' src="{{item.avatar || '../../../asset/img/avatar-man.png'}}"></image>
            <view class='item-name'>{{item.childNickName}}</view>
          </view>

          <view class='joined-text' wx:if="{{item.joined}}">已报名</view>
          <view class="item-selector {{item.childId == selectedChildId ? 'active' : ''}}" wx:else>
            <view class='iconfont icon-right1'></view>
          </view>
        </view>
      </view>
      <view class='btn-primary ripple' bindtap='handleJoin'>确认报名 ￥{{selectedClass.classPrize}}</view>
    </view>
  </view>
</view>